<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="560" viewBox="0 0 1000 560">
  <defs>
    <style> .labelbg { fill:#ffffff; stroke:#0b0f19; stroke-width:0.5; opacity:0.95; }
      .bg { fill:#ffffff; }
      .box { fill:#ffffff; stroke:#0b1220; stroke-width:2.2; rx:12; ry:12; }
      .title { font: 700 16px 'Segoe UI', Arial, sans-serif; fill:#0b0f19; }
      .subtitle { font: 600 13px 'Segoe UI', Arial, sans-serif; fill:#243248; }
      .label { font: 700 12.5px 'Segoe UI', Arial, sans-serif; fill:#0b0f19; }
      .note { font: 600 12px 'Segoe UI', Arial, sans-serif; fill:#334155; }
      .arrow { stroke:#0b0f19; stroke-width:3; fill:none; marker-end:url(#arrow); }
    </style>
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="4" orient="auto">
      <path d="M0,0 L10,4 L0,8 Z" fill="#0b0f19" />
    </marker>
  </defs>

  <!-- Background branco para alto contraste em temas escuros -->
  <rect class="bg" x="0" y="0" width="1000" height="560" />

  <!-- Frontend (cliente) -->
  <rect class="box" x="40" y="60" width="230" height="90" />
  <text class="title" x="55" y="90">Frontend</text>
  <text class="subtitle" x="55" y="115">React + Vite (navegador)</text>

  <!-- Cliente MCP (cliente) -->
  <rect class="box" x="40" y="360" width="230" height="90" />
  <text class="title" x="55" y="390">Cliente MCP</text>
  <text class="subtitle" x="55" y="415">IDE / Agente</text>

  <!-- FastAPI -->
  <rect class="box" x="360" y="60" width="250" height="90" />
  <text class="title" x="375" y="90">FastAPI (API REST)</text>
  <text class="subtitle" x="375" y="115">backend/api</text>

  <!-- FastMCP -->
  <rect class="box" x="360" y="360" width="250" height="90" />
  <text class="title" x="375" y="390">FastMCP (MCP Server)</text>
  <text class="subtitle" x="375" y="415">backend/mcp</text>

  <!-- Services (compartilhado) -->
  <rect class="box" x="690" y="210" width="260" height="110" />
  <text class="title" x="705" y="240">Services (compartilhado)</text>
  <text class="subtitle" x="705" y="265">backend/services/book_service</text>
  <text class="note" x="705" y="290">Valida, orquestra e aplica regras</text>

  <!-- Database -->
  <rect class="box" x="730" y="400" width="220" height="90" />
  <text class="title" x="745" y="430">Database</text>
  <text class="subtitle" x="745" y="455">SQLAlchemy / SQLite</text>
  <text class="note" x="745" y="480">data/books.db</text>

  <!-- Arrows clientes -> interfaces -->
  <path class="arrow" d="M270,105 C300,105 320,105 360,105" />
  <text class="label" x="280" y="90">HTTP REST</text>

  <path class="arrow" d="M270,405 C300,405 320,405 360,405" />
  <rect class="labelbg" x="330" y="336" width="180" height="24" rx="6" ry="6"/><text class="label" x="420" y="352" text-anchor="middle">MCP streamable-http</text>

  <!-- Arrows interfaces -> services -->
  <path class="arrow" d="M485,150 C520,210 650,240 690,255" />
  <text class="label" x="545" y="195">chama serviços</text>

  <path class="arrow" d="M485,360 C520,330 650,300 690,285" />
  <text class="label" x="545" y="330">chama serviços</text>

  <!-- Arrow services -> db -->
  <path class="arrow" d="M820,320 C820,345 840,370 840,400" />
  <text class="label" x="845" y="360">usa ORM</text>
</svg>


